#!/bin/bash

mode=''

case $1 in

  "day")
    mode='day'
    ;;

  "night")
    mode='night'
    ;;

  *)
    echo 'invalid argument, use "day" or "night"'
    exit 1
    ;;
esac

# Change wallpaper
flatpak run org.gabmus.hydrapaper --cli ~/Pictures/Wallpapers/persona-5-"$mode"-wide.png ~/Pictures/Wallpapers/persona-5-"$mode"-tall.jpg --modes zoom zoom

# Change kitty theme
ln -sf ~/.config/kitty/"$mode"-theme.conf ~/.config/kitty/current-theme.conf
for pid in $(pgrep kitty)
do
  kill -SIGUSR1 "$pid"
done
