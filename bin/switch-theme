#!/bin/bash

mode=''

case $1 in

  "day")
    mode='day'
    ;;

  "night")
    mode='night'
    ;;

  *)
    echo 'invalid argument, use "day" or "night"'
    exit 1
    ;;
esac

# Change kitty theme
ln -sf ~/.config/kitty/"$mode"-theme.conf ~/.config/kitty/current-theme.conf
for pid in $(pgrep kitty)
do
  kill -SIGUSR1 "$pid"
done

# Change vim theme
ln -sf ~/.vim/colorscheme/"$mode"-colorscheme-name.txt ~/.vim/colorscheme/colorscheme-name.txt
for pid in $(pgrep vim)
do
  kill -SIGUSR1 "$pid"
done

# Change tmux theme
ln -sf ~/.tmux/theme/set-"$mode"-theme-colors.conf ~/.tmux/theme/set-current-theme-colors.conf
tmux source-file ~/.tmux/theme/theme.conf
