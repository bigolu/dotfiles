#!/bin/bash

mode=''

case $1 in

  "day")
    # for unused in {1..5}; do
    #   set_brightness up
    # done
    mode='day'
    ;;

  "night")
    # for unused in {1..5}; do
    #   set_brightness down
    # done
    mode='night'
    ;;

  *)
    echo 'invalid argument, use "day" or "night"'
    exit 1
    ;;
esac

# Change kitty theme
ln -sf ~/.config/kitty/"$mode"-theme.conf ~/.config/kitty/current-theme.conf
reload-kitty

# Change vim theme
ln -sf ~/.vim/colorscheme/"$mode"-colorscheme-name.txt ~/.vim/colorscheme/colorscheme-name.txt
for pid in $(pgrep vim)
do
  kill -SIGUSR1 "$pid"
done
